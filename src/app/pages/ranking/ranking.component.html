<div class="wrapper">
  @if (_userData) {
  <a routerLink="/account" class="ranking for-you">
    <span class="position"> {{ _userData.position }} </span>
    <span class="player-name">Me</span>
    <span class="experience">{{ _userData.xp.toLocaleString() }} Xp</span>
    <span class="grade" [class]="_userData.level + '-grade'">
      {{ _userData.level.toUpperCase() }}
    </span>
  </a>
  } @else {
  <p class="no-ranking">
    {{ "pages.ranking.noRanking" | translate }}
  </p>
  }

  <div class="break-line"></div>
  <div class="search">
    <div class="icon-box">
      <ion-icon name="search-outline"></ion-icon>
    </div>
    <form>
      <input
        type="text"
        placeholder="Search players ..."
        name="search-value"
        id="searchValue"
      />
    </form>

    @if (true) {
    <div class="icon-box remove-search">
      <ion-icon name="close-circle" class=""></ion-icon>
    </div>
    }
  </div>
  <div class="hall-of-fame">
    <h1 class="title">{{ "pages.ranking.title" | translate }}</h1>

    <div class="rankings">
      @if (_ranking.length) { @for (player of _ranking; track $index) {
      <div [class]="'ranking ' + player.decoration">
        <span class="position">{{ player.position }}</span>
        <span class="player-name">{{ player.playerName }}</span>
        <span class="experience">{{ player.xp.toLocaleString() }} Xp</span>
        <span [class]="'grade ' + player.level + '-grade'">
          {{ player.level }}
        </span>
        <span [class]="'trend ' + player.trend">
          @if (player.trend === "up") {
          <ion-icon name="caret-up-outline"></ion-icon>
          } @else if (player.trend === "down") {
          <ion-icon name="caret-down-outline"></ion-icon>
          } @else {
          <ion-icon name="remove"></ion-icon>
          }
        </span>
      </div>
      <!-- Set break-line between stages -->
      @if (player.position === 3) {
      <div class="break-line"></div>
      } @if (player.position === 10) {
      <div class="break-line"></div>
      } @if (player.position === 50) {
      <div class="break-line"></div>
      } } } @else {
      <p class="no-ranking">
        {{ "pages.ranking.noRanking" | translate }}
      </p>
      <div class="break-line"></div>
      }
    </div>
  </div>
</div>

<!-- TODO: Limiter les noms des joueurs à 20 caractères -->
<!-- TODO: Ajouter un bouton 'voir la suite du classement' -->
